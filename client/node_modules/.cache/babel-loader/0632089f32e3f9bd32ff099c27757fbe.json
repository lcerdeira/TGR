{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{GET_LOCATIONS,SET_LOADING,LOCATIONS_ERROR,ADD_LOCATION,DELETE_LOCATION,UPDATE_LOCATION,CURRENT_LOCATION,CLEAR_CURRENT,FILTER_LOCATIONS,CLEAR_FILTER}from'./types';// Set loading to true\nexport var setLoading=function setLoading(){return{type:SET_LOADING};};// Get locations\nexport var getLocations=function getLocations(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading();_context.next=4;return axios.get('/api/locations');case 4:res=_context.sent;_context.next=7;return res.data;case 7:data=_context.sent;dispatch({type:GET_LOCATIONS,payload:data});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:LOCATIONS_ERROR,payload:_context.t0.response.statusText});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Add location\nexport var addLocation=function addLocation(location){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading();_context2.next=4;return axios.post('/api/locations',location);case 4:res=_context2.sent;_context2.next=7;return res.data;case 7:data=_context2.sent;dispatch({type:ADD_LOCATION,payload:data});_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.location(_context2.t0);dispatch({type:LOCATIONS_ERROR,payload:_context2.t0.response.statusText});case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Update location\nexport var updateLocation=function updateLocation(location){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoading();_context3.next=4;return axios.patch(\"/api/locations/\".concat(location._id),location);case 4:res=_context3.sent;_context3.next=7;return res.data;case 7:data=_context3.sent;dispatch({type:UPDATE_LOCATION,payload:data});_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);dispatch({type:LOCATIONS_ERROR,payload:_context3.t0.response.statusText});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Delete location\nexport var deleteLocation=function deleteLocation(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;setLoading();_context4.next=4;return axios.delete(\"/api/locations/\".concat(id));case 4:dispatch({type:DELETE_LOCATION,payload:id});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:LOCATIONS_ERROR,payload:_context4.t0.response.statusText});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// Set current location\nexport var setCurrent=function setCurrent(location){return{type:CURRENT_LOCATION,payload:location};};// Clear current location\nexport var clearCurrent=function clearCurrent(){return{type:CLEAR_CURRENT};};// Filter\nexport var filterLocations=function filterLocations(text){return{type:FILTER_LOCATIONS,payload:text};};// Clear Filter\nexport var clearFilter=function clearFilter(){return{type:CLEAR_FILTER};};","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/actions/location.js"],"names":["axios","GET_LOCATIONS","SET_LOADING","LOCATIONS_ERROR","ADD_LOCATION","DELETE_LOCATION","UPDATE_LOCATION","CURRENT_LOCATION","CLEAR_CURRENT","FILTER_LOCATIONS","CLEAR_FILTER","setLoading","type","getLocations","dispatch","get","res","data","payload","response","statusText","addLocation","location","post","console","updateLocation","patch","_id","deleteLocation","id","delete","setCurrent","clearCurrent","filterLocations","text","clearFilter"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n  GET_LOCATIONS,\n  SET_LOADING,\n  LOCATIONS_ERROR,\n  ADD_LOCATION,\n  DELETE_LOCATION,\n  UPDATE_LOCATION,\n  CURRENT_LOCATION,\n  CLEAR_CURRENT,\n  FILTER_LOCATIONS,\n  CLEAR_FILTER\n} from './types';\n\n// Set loading to true\nexport const setLoading = () => {\n  return {\n    type: SET_LOADING\n  };\n};\n\n// Get locations\nexport const getLocations = () => async (dispatch) => {\n  try {\n    setLoading();\n    const res = await axios.get('/api/locations');\n    const data = await res.data;\n    dispatch({\n      type: GET_LOCATIONS,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: LOCATIONS_ERROR,\n      payload: err.response.statusText\n    });\n  }\n};\n\n// Add location\nexport const addLocation = (location) => async (dispatch) => {\n  try {\n    setLoading();\n    const res = await axios.post('/api/locations', location);\n    const data = await res.data;\n    dispatch({\n      type: ADD_LOCATION,\n      payload: data\n    });\n  } catch (err) {\n    console.location(err);\n    dispatch({\n      type: LOCATIONS_ERROR,\n      payload: err.response.statusText\n    });\n  }\n};\n\n// Update location\nexport const updateLocation = (location) => async (dispatch) => {\n  try {\n    setLoading();\n    const res = await axios.patch(`/api/locations/${location._id}`, location);\n    const data = await res.data;\n    dispatch({\n      type: UPDATE_LOCATION,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: LOCATIONS_ERROR,\n      payload: err.response.statusText\n    });\n  }\n};\n\n// Delete location\nexport const deleteLocation = (id) => async (dispatch) => {\n  try {\n    setLoading();\n    await axios.delete(`/api/locations/${id}`);\n    dispatch({\n      type: DELETE_LOCATION,\n      payload: id\n    });\n  } catch (err) {\n    dispatch({\n      type: LOCATIONS_ERROR,\n      payload: err.response.statusText\n    });\n  }\n};\n\n// Set current location\nexport const setCurrent = (location) => {\n  return {\n    type: CURRENT_LOCATION,\n    payload: location\n  };\n};\n\n// Clear current location\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_CURRENT\n  };\n};\n\n// Filter\nexport const filterLocations = (text) => {\n  return { type: FILTER_LOCATIONS, payload: text };\n};\n\n// Clear Filter\nexport const clearFilter = () => {\n  return { type: CLEAR_FILTER };\n};\n"]},"metadata":{},"sourceType":"module"}