{"ast":null,"code":"import _defineProperty from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{TextInput,Textarea,Select,Row,Container}from'react-materialize';import M from'materialize-css/dist/js/materialize.min.js';import{updatePlace}from'../../actions/place';import useResources from'../../utils/useResources';import FileUpload from'../upload/FileUpload';var EditPlace=function EditPlace(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),place=_useState2[0],setPlace=_useState2[1];var title=place.title,thumbnail=place.thumbnail,content=place.content,location=place.location,category=place.category,info=place.info,link=place.link,lat=place.lat,lng=place.lng;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),submittedFileName=_useState4[0],setSubmittedFileName=_useState4[1];var current=useSelector(function(state){return state.place.current;});var locations=useResources('locations');var categories=useResources('categories');var dispatch=useDispatch();useEffect(function(){if(current){setPlace(current);}document.title='Edit Place';},[current]);var onChange=function onChange(e){setPlace(_objectSpread(_objectSpread({},place),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(){dispatch(updatePlace(_objectSpread(_objectSpread({},place),{},{thumbnail:submittedFileName})));M.toast({html:\"\".concat(title,\" updated\")});history.push('places');};return/*#__PURE__*/React.createElement(Container,{className:\"center mt form-container\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(TextInput,{id:\"edit-place-title\",name:\"title\",label:\"Title\",value:title,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(Textarea,{id:\"edit-place-content\",name:\"content\",label:\"Content\",value:content,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(Select,{id:\"edit-place-loc\",name:\"location\",label:\"Location\",value:location,onChange:onChange,s:6},locations.map(function(loc){return/*#__PURE__*/React.createElement(\"option\",{key:loc._id,value:loc.title},loc.title);})),/*#__PURE__*/React.createElement(Select,{id:\"edit-place-cat\",name:\"category\",label:\"Category\",value:category,onChange:onChange,s:6},categories.map(function(cat){return/*#__PURE__*/React.createElement(\"option\",{key:cat._id,value:cat.title},cat.title);})),/*#__PURE__*/React.createElement(TextInput,{id:\"edit-place-info\",name:\"info\",label:\"Info\",value:info,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(TextInput,{id:\"edit-place-link\",name:\"link\",label:\"Link\",value:link,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(TextInput,{id:\"edit-place-lat\",name:\"lat\",label:\"Lat\",value:lat,onChange:onChange,s:6}),/*#__PURE__*/React.createElement(TextInput,{id:\"edit-place-lng\",name:\"lng\",label:\"Lng\",value:lng,onChange:onChange,s:6}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"img\",{src:thumbnail,alt:\"\",width:\"200\"})),/*#__PURE__*/React.createElement(FileUpload,{updateFileNameToParent:setSubmittedFileName}))));};export default EditPlace;","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/components/places/EditPlace.js"],"names":["React","useState","useEffect","useDispatch","useSelector","TextInput","Textarea","Select","Row","Container","M","updatePlace","useResources","FileUpload","EditPlace","history","place","setPlace","title","thumbnail","content","location","category","info","link","lat","lng","submittedFileName","setSubmittedFileName","current","state","locations","categories","dispatch","document","onChange","e","target","name","value","onSubmit","toast","html","push","map","loc","_id","cat"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TextInput, Textarea, Select, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { updatePlace } from '../../actions/place';\nimport useResources from '../../utils/useResources';\nimport FileUpload from '../upload/FileUpload';\n\nconst EditPlace = ({ history }) => {\n  const [place, setPlace] = useState('');\n  const {\n    title,\n    thumbnail,\n    content,\n    location,\n    category,\n    info,\n    link,\n    lat,\n    lng\n  } = place;\n\n  const [submittedFileName, setSubmittedFileName] = useState('');\n\n  const current = useSelector((state) => state.place.current);\n\n  const locations = useResources('locations');\n  const categories = useResources('categories');\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (current) {\n      setPlace(current);\n    }\n    document.title = 'Edit Place';\n  }, [current]);\n\n  const onChange = (e) => {\n    setPlace({ ...place, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = () => {\n    dispatch(updatePlace({ ...place, thumbnail: submittedFileName }));\n    M.toast({ html: `${title} updated` });\n    history.push('places');\n  };\n\n  return (\n    <Container className=\"center mt form-container\">\n      <Row>\n        <form onSubmit={onSubmit}>\n          <TextInput\n            id=\"edit-place-title\"\n            name=\"title\"\n            label=\"Title\"\n            value={title}\n            onChange={onChange}\n            s={12}\n          />\n          <Textarea\n            id=\"edit-place-content\"\n            name=\"content\"\n            label=\"Content\"\n            value={content}\n            onChange={onChange}\n            s={12}\n          />\n          <Select\n            id=\"edit-place-loc\"\n            name=\"location\"\n            label=\"Location\"\n            value={location}\n            onChange={onChange}\n            s={6}\n          >\n            {locations.map((loc) => (\n              <option key={loc._id} value={loc.title}>\n                {loc.title}\n              </option>\n            ))}\n          </Select>\n          <Select\n            id=\"edit-place-cat\"\n            name=\"category\"\n            label=\"Category\"\n            value={category}\n            onChange={onChange}\n            s={6}\n          >\n            {categories.map((cat) => (\n              <option key={cat._id} value={cat.title}>\n                {cat.title}\n              </option>\n            ))}\n          </Select>\n          <TextInput\n            id=\"edit-place-info\"\n            name=\"info\"\n            label=\"Info\"\n            value={info}\n            onChange={onChange}\n            s={12}\n          />\n          <TextInput\n            id=\"edit-place-link\"\n            name=\"link\"\n            label=\"Link\"\n            value={link}\n            onChange={onChange}\n            s={12}\n          />\n          <TextInput\n            id=\"edit-place-lat\"\n            name=\"lat\"\n            label=\"Lat\"\n            value={lat}\n            onChange={onChange}\n            s={6}\n          />\n          <TextInput\n            id=\"edit-place-lng\"\n            name=\"lng\"\n            label=\"Lng\"\n            value={lng}\n            onChange={onChange}\n            s={6}\n          />\n          <Row>\n            <img src={thumbnail} alt=\"\" width=\"200\" />\n          </Row>\n          <FileUpload updateFileNameToParent={setSubmittedFileName} />\n        </form>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditPlace;\n"]},"metadata":{},"sourceType":"module"}