{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{GET_PLACES,SET_LOADING,PLACES_ERROR,ADD_PLACE,DELETE_PLACE,UPDATE_PLACE,CURRENT_PLACE,CLEAR_CURRENT,FILTER_PLACES,CLEAR_FILTER}from'./types';// Set loading to true\nexport var setLoading=function setLoading(){return{type:SET_LOADING};};// Get places\nexport var getPlaces=function getPlaces(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading();_context.next=4;return axios.get('/api/places');case 4:res=_context.sent;_context.next=7;return res.data;case 7:data=_context.sent;dispatch({type:GET_PLACES,payload:data});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:PLACES_ERROR,payload:_context.t0.response.statusText});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Add place\nexport var addPlace=function addPlace(place){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading();_context2.next=4;return axios.post('/api/places',place);case 4:res=_context2.sent;_context2.next=7;return res.data;case 7:data=_context2.sent;dispatch({type:ADD_PLACE,payload:data});_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.place(_context2.t0);dispatch({type:PLACES_ERROR,payload:_context2.t0.response.statusText});case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Update place\nexport var updatePlace=function updatePlace(place){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoading();_context3.next=4;return axios.patch(\"/api/places/\".concat(place._id),place);case 4:res=_context3.sent;_context3.next=7;return res.data;case 7:data=_context3.sent;dispatch({type:UPDATE_PLACE,payload:data});_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);dispatch({type:PLACES_ERROR,payload:_context3.t0.response.statusText});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Delete place\nexport var deletePlace=function deletePlace(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;setLoading();_context4.next=4;return axios.delete(\"/api/places/\".concat(id));case 4:dispatch({type:DELETE_PLACE,payload:id});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:PLACES_ERROR,payload:_context4.t0.response.statusText});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// Set current place\nexport var setCurrent=function setCurrent(place){return{type:CURRENT_PLACE,payload:place};};// Clear current place\nexport var clearCurrent=function clearCurrent(){return{type:CLEAR_CURRENT};};// Filter\nexport var filterPlaces=function filterPlaces(text){return{type:FILTER_PLACES,payload:text};};// Clear Filter\nexport var clearFilter=function clearFilter(){return{type:CLEAR_FILTER};};","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/actions/place.js"],"names":["axios","GET_PLACES","SET_LOADING","PLACES_ERROR","ADD_PLACE","DELETE_PLACE","UPDATE_PLACE","CURRENT_PLACE","CLEAR_CURRENT","FILTER_PLACES","CLEAR_FILTER","setLoading","type","getPlaces","dispatch","get","res","data","payload","response","statusText","addPlace","place","post","console","updatePlace","patch","_id","deletePlace","id","delete","setCurrent","clearCurrent","filterPlaces","text","clearFilter"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n  GET_PLACES,\n  SET_LOADING,\n  PLACES_ERROR,\n  ADD_PLACE,\n  DELETE_PLACE,\n  UPDATE_PLACE,\n  CURRENT_PLACE,\n  CLEAR_CURRENT,\n  FILTER_PLACES,\n  CLEAR_FILTER\n} from './types';\n\n// Set loading to true\nexport const setLoading = () => {\n  return {\n    type: SET_LOADING\n  };\n};\n\n// Get places\nexport const getPlaces = () => async (dispatch) => {\n  try {\n    setLoading();\n    const res = await axios.get('/api/places');\n    const data = await res.data;\n    dispatch({\n      type: GET_PLACES,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: PLACES_ERROR,\n      payload: err.response.statusText\n    });\n  }\n};\n\n// Add place\nexport const addPlace = (place) => async (dispatch) => {\n  try {\n    setLoading();\n    const res = await axios.post('/api/places', place);\n    const data = await res.data;\n    dispatch({\n      type: ADD_PLACE,\n      payload: data\n    });\n  } catch (err) {\n    console.place(err);\n    dispatch({\n      type: PLACES_ERROR,\n      payload: err.response.statusText\n    });\n  }\n};\n\n// Update place\nexport const updatePlace = (place) => async (dispatch) => {\n  try {\n    setLoading();\n    const res = await axios.patch(`/api/places/${place._id}`, place);\n    const data = await res.data;\n    dispatch({\n      type: UPDATE_PLACE,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: PLACES_ERROR,\n      payload: err.response.statusText\n    });\n  }\n};\n\n// Delete place\nexport const deletePlace = (id) => async (dispatch) => {\n  try {\n    setLoading();\n    await axios.delete(`/api/places/${id}`);\n    dispatch({\n      type: DELETE_PLACE,\n      payload: id\n    });\n  } catch (err) {\n    dispatch({\n      type: PLACES_ERROR,\n      payload: err.response.statusText\n    });\n  }\n};\n\n// Set current place\nexport const setCurrent = (place) => {\n  return {\n    type: CURRENT_PLACE,\n    payload: place\n  };\n};\n\n// Clear current place\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_CURRENT\n  };\n};\n\n// Filter\nexport const filterPlaces = (text) => {\n  return { type: FILTER_PLACES, payload: text };\n};\n\n// Clear Filter\nexport const clearFilter = () => {\n  return { type: CLEAR_FILTER };\n};\n"]},"metadata":{},"sourceType":"module"}