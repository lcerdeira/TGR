{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch}from'react-redux';import makeAnimated from'react-select/animated';import Select from'react-select';import{TextInput,Row,Container}from'react-materialize';import M from'materialize-css/dist/js/materialize.min.js';import{addCategory}from'../../actions/category';import FileUpload from'../upload/FileUpload';import useResources from'../../utils/useResources';var AddCategory=function AddCategory(_ref){var history=_ref.history;var _useState=useState({title:'',thumbnail:'',location:''}),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var title=category.title,location=category.location;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),submittedFileName=_useState4[0],setSubmittedFileName=_useState4[1];var locations=useResources('locations');var animatedComponents=makeAnimated();var dispatch=useDispatch();useEffect(function(){document.title='Add Category';},[]);var onChange=function onChange(e){setCategory(_objectSpread(_objectSpread({},category),{},_defineProperty({},e.target.name,e.target.value)));};var onSelect=function onSelect(value,action){setCategory(_objectSpread(_objectSpread({},category),{},_defineProperty({},action.name,value)));};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!title){M.toast({html:'Please enter title'});}else if(!location){M.toast({html:'Please enter location'});}else{dispatch(addCategory(_objectSpread(_objectSpread({},category),{},{thumbnail:submittedFileName})));M.toast({html:\"\".concat(title,\" added\")});history.push('categories');}case 1:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Container,{className:\"center mt form-container\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(Select,{id:\"add-cat-loc\",name:\"location\",placeholder:\"Location *\",value:location,onChange:onSelect,components:animatedComponents,closeMenuOnSelect:false,isMulti:true,options:locations.map(function(loc){return{value:loc.title,label:loc.title};})}),/*#__PURE__*/React.createElement(TextInput,{id:\"add-cat-title\",name:\"title\",placeholder:\"Title *\",value:title,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(FileUpload,{updateFileNameToParent:setSubmittedFileName}))));};export default AddCategory;","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/components/categories/AddCategory.js"],"names":["React","useState","useEffect","useDispatch","makeAnimated","Select","TextInput","Row","Container","M","addCategory","FileUpload","useResources","AddCategory","history","title","thumbnail","location","category","setCategory","submittedFileName","setSubmittedFileName","locations","animatedComponents","dispatch","document","onChange","e","target","name","value","onSelect","action","onSubmit","toast","html","push","map","loc","label"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport makeAnimated from 'react-select/animated';\nimport Select from 'react-select';\nimport { TextInput, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { addCategory } from '../../actions/category';\nimport FileUpload from '../upload/FileUpload';\nimport useResources from '../../utils/useResources';\n\nconst AddCategory = ({ history }) => {\n  const [category, setCategory] = useState({\n    title: '',\n    thumbnail: '',\n    location: ''\n  });\n  const { title, location } = category;\n\n  const [submittedFileName, setSubmittedFileName] = useState('');\n\n  const locations = useResources('locations');\n\n  const animatedComponents = makeAnimated();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = 'Add Category';\n  }, []);\n\n  const onChange = (e) => {\n    setCategory({ ...category, [e.target.name]: e.target.value });\n  };\n\n  const onSelect = (value, action) => {\n    setCategory({ ...category, [action.name]: value });\n  };\n\n  const onSubmit = async () => {\n    if (!title) {\n      M.toast({ html: 'Please enter title' });\n    } else if (!location) {\n      M.toast({ html: 'Please enter location' });\n    } else {\n      dispatch(\n        addCategory({\n          ...category,\n          thumbnail: submittedFileName\n        })\n      );\n      M.toast({ html: `${title} added` });\n      history.push('categories');\n    }\n  };\n\n  return (\n    <Container className=\"center mt form-container\">\n      <Row>\n        <form onSubmit={onSubmit}>\n          <Select\n            id=\"add-cat-loc\"\n            name=\"location\"\n            placeholder=\"Location *\"\n            value={location}\n            onChange={onSelect}\n            components={animatedComponents}\n            closeMenuOnSelect={false}\n            isMulti\n            options={locations.map((loc) => ({\n              value: loc.title,\n              label: loc.title\n            }))}\n          />\n          <TextInput\n            id=\"add-cat-title\"\n            name=\"title\"\n            placeholder=\"Title *\"\n            value={title}\n            onChange={onChange}\n            s={12}\n          />\n          <FileUpload updateFileNameToParent={setSubmittedFileName} />\n        </form>\n      </Row>\n    </Container>\n  );\n};\n\nexport default AddCategory;\n"]},"metadata":{},"sourceType":"module"}