{"ast":null,"code":"var _jsxFileName = \"/Users/lcer0001/GitHub/biodash/client/src/components/places/EditPlace.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TextInput, Textarea, Select, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { updatePlace } from '../../actions/place';\nimport useResources from '../../utils/useResources';\nimport FileUpload from '../upload/FileUpload';\n\nconst EditPlace = ({\n  history\n}) => {\n  const [place, setPlace] = useState('');\n  const {\n    title,\n    thumbnail,\n    content,\n    location,\n    category,\n    info,\n    link,\n    lat,\n    lng\n  } = place;\n  const [submittedFileName, setSubmittedFileName] = useState('');\n  const current = useSelector(state => state.place.current);\n  const locations = useResources('locations');\n  const categories = useResources('categories');\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (current) {\n      setPlace(current);\n    }\n\n    document.title = 'Edit Place';\n  }, [current]);\n\n  const onChange = e => {\n    setPlace({ ...place,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = () => {\n    dispatch(updatePlace({ ...place,\n      thumbnail: submittedFileName\n    }));\n    M.toast({\n      html: `${title} updated`\n    });\n    history.push('places');\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"center mt form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    id: \"edit-place-title\",\n    name: \"title\",\n    label: \"Title\",\n    value: title,\n    onChange: onChange,\n    s: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Textarea, {\n    id: \"edit-place-content\",\n    name: \"content\",\n    label: \"Content\",\n    value: content,\n    onChange: onChange,\n    s: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    id: \"edit-place-loc\",\n    name: \"location\",\n    label: \"Location\",\n    value: location,\n    onChange: onChange,\n    s: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, locations.map(loc => /*#__PURE__*/React.createElement(\"option\", {\n    key: loc._id,\n    value: loc.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, loc.title))), /*#__PURE__*/React.createElement(Select, {\n    id: \"edit-place-cat\",\n    name: \"category\",\n    label: \"Category\",\n    value: category,\n    onChange: onChange,\n    s: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, categories.map(cat => /*#__PURE__*/React.createElement(\"option\", {\n    key: cat._id,\n    value: cat.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, cat.title))), /*#__PURE__*/React.createElement(TextInput, {\n    id: \"edit-place-info\",\n    name: \"info\",\n    label: \"Info\",\n    value: info,\n    onChange: onChange,\n    s: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    id: \"edit-place-link\",\n    name: \"link\",\n    label: \"Link\",\n    value: link,\n    onChange: onChange,\n    s: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    id: \"edit-place-lat\",\n    name: \"lat\",\n    label: \"Lat\",\n    value: lat,\n    onChange: onChange,\n    s: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    id: \"edit-place-lng\",\n    name: \"lng\",\n    label: \"Lng\",\n    value: lng,\n    onChange: onChange,\n    s: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: thumbnail,\n    alt: \"\",\n    width: \"200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FileUpload, {\n    updateFileNameToParent: setSubmittedFileName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default EditPlace;","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/components/places/EditPlace.js"],"names":["React","useState","useEffect","useDispatch","useSelector","TextInput","Textarea","Select","Row","Container","M","updatePlace","useResources","FileUpload","EditPlace","history","place","setPlace","title","thumbnail","content","location","category","info","link","lat","lng","submittedFileName","setSubmittedFileName","current","state","locations","categories","dispatch","document","onChange","e","target","name","value","onSubmit","toast","html","push","map","loc","_id","cat"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TextInput, Textarea, Select, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { updatePlace } from '../../actions/place';\nimport useResources from '../../utils/useResources';\nimport FileUpload from '../upload/FileUpload';\n\nconst EditPlace = ({ history }) => {\n  const [place, setPlace] = useState('');\n  const {\n    title,\n    thumbnail,\n    content,\n    location,\n    category,\n    info,\n    link,\n    lat,\n    lng\n  } = place;\n\n  const [submittedFileName, setSubmittedFileName] = useState('');\n\n  const current = useSelector((state) => state.place.current);\n\n  const locations = useResources('locations');\n  const categories = useResources('categories');\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (current) {\n      setPlace(current);\n    }\n    document.title = 'Edit Place';\n  }, [current]);\n\n  const onChange = (e) => {\n    setPlace({ ...place, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = () => {\n    dispatch(updatePlace({ ...place, thumbnail: submittedFileName }));\n    M.toast({ html: `${title} updated` });\n    history.push('places');\n  };\n\n  return (\n    <Container className=\"center mt form-container\">\n      <Row>\n        <form onSubmit={onSubmit}>\n          <TextInput\n            id=\"edit-place-title\"\n            name=\"title\"\n            label=\"Title\"\n            value={title}\n            onChange={onChange}\n            s={12}\n          />\n          <Textarea\n            id=\"edit-place-content\"\n            name=\"content\"\n            label=\"Content\"\n            value={content}\n            onChange={onChange}\n            s={12}\n          />\n          <Select\n            id=\"edit-place-loc\"\n            name=\"location\"\n            label=\"Location\"\n            value={location}\n            onChange={onChange}\n            s={6}\n          >\n            {locations.map((loc) => (\n              <option key={loc._id} value={loc.title}>\n                {loc.title}\n              </option>\n            ))}\n          </Select>\n          <Select\n            id=\"edit-place-cat\"\n            name=\"category\"\n            label=\"Category\"\n            value={category}\n            onChange={onChange}\n            s={6}\n          >\n            {categories.map((cat) => (\n              <option key={cat._id} value={cat.title}>\n                {cat.title}\n              </option>\n            ))}\n          </Select>\n          <TextInput\n            id=\"edit-place-info\"\n            name=\"info\"\n            label=\"Info\"\n            value={info}\n            onChange={onChange}\n            s={12}\n          />\n          <TextInput\n            id=\"edit-place-link\"\n            name=\"link\"\n            label=\"Link\"\n            value={link}\n            onChange={onChange}\n            s={12}\n          />\n          <TextInput\n            id=\"edit-place-lat\"\n            name=\"lat\"\n            label=\"Lat\"\n            value={lat}\n            onChange={onChange}\n            s={6}\n          />\n          <TextInput\n            id=\"edit-place-lng\"\n            name=\"lng\"\n            label=\"Lng\"\n            value={lng}\n            onChange={onChange}\n            s={6}\n          />\n          <Row>\n            <img src={thumbnail} alt=\"\" width=\"200\" />\n          </Row>\n          <FileUpload updateFileNameToParent={setSubmittedFileName} />\n        </form>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditPlace;\n"]},"metadata":{},"sourceType":"module"}