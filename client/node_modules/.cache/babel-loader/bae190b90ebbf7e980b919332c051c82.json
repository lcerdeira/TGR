{"ast":null,"code":"var _jsxFileName = \"/Users/lcer0001/GitHub/biodash/client/src/components/categories/EditCategory.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/animated';\nimport { TextInput, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { updateCategory } from '../../actions/category';\nimport useResources from '../../utils/useResources';\nimport FileUpload from '../upload/FileUpload';\n\nconst EditCategory = ({\n  history\n}) => {\n  const [category, setCategory] = useState('');\n  const {\n    title,\n    thumbnail,\n    location\n  } = category;\n  const [submittedFileName, setSubmittedFileName] = useState('');\n  const locations = useResources('locations');\n  const animatedComponents = makeAnimated();\n  const current = useSelector(state => state.category.current);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (current) {\n      setCategory(current);\n    }\n\n    document.title = 'Edit Category';\n  }, [current]);\n\n  const onChange = e => {\n    setCategory({ ...category,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSelect = (value, action) => {\n    setCategory({ ...category,\n      [action.name]: value\n    });\n  };\n\n  const onSubmit = () => {\n    dispatch(updateCategory({ ...category,\n      thumbnail: submittedFileName\n    }));\n    M.toast({\n      html: `${title} updated`\n    });\n    history.push('categories');\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"center mt form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, location && location.map(loc => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        display: 'inline'\n      },\n      key: loc.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, loc.label, \",\", ' ');\n  }), /*#__PURE__*/React.createElement(Select, {\n    id: \"edit-cat-loc\",\n    name: \"locations\",\n    placeholder: \"Location\",\n    onChange: onSelect,\n    components: animatedComponents,\n    closeMenuOnSelect: false,\n    isMulti: true // value={location}\n    ,\n    options: locations.map(loc => ({\n      value: loc.title,\n      label: loc.title\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    id: \"edit-cat-title\",\n    name: \"title\",\n    label: \"Title\",\n    value: title,\n    onChange: onChange,\n    s: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: thumbnail,\n    alt: \"\",\n    width: \"200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FileUpload, {\n    updateFileNameToParent: setSubmittedFileName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default EditCategory;","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/components/categories/EditCategory.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Select","makeAnimated","TextInput","Row","Container","M","updateCategory","useResources","FileUpload","EditCategory","history","category","setCategory","title","thumbnail","location","submittedFileName","setSubmittedFileName","locations","animatedComponents","current","state","dispatch","document","onChange","e","target","name","value","onSelect","action","onSubmit","toast","html","push","map","loc","display","label"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/animated';\nimport { TextInput, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { updateCategory } from '../../actions/category';\nimport useResources from '../../utils/useResources';\nimport FileUpload from '../upload/FileUpload';\n\nconst EditCategory = ({ history }) => {\n  const [category, setCategory] = useState('');\n  const { title, thumbnail, location } = category;\n\n  const [submittedFileName, setSubmittedFileName] = useState('');\n\n  const locations = useResources('locations');\n\n  const animatedComponents = makeAnimated();\n\n  const current = useSelector((state) => state.category.current);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (current) {\n      setCategory(current);\n    }\n    document.title = 'Edit Category';\n  }, [current]);\n\n  const onChange = (e) => {\n    setCategory({ ...category, [e.target.name]: e.target.value });\n  };\n\n  const onSelect = (value, action) => {\n    setCategory({ ...category, [action.name]: value });\n  };\n\n  const onSubmit = () => {\n    dispatch(updateCategory({ ...category, thumbnail: submittedFileName }));\n    M.toast({ html: `${title} updated` });\n    history.push('categories');\n  };\n\n  return (\n    <Container className=\"center mt form-container\">\n      <Row>\n        <form onSubmit={onSubmit}>\n          {location &&\n            location.map((loc) => {\n              return (\n                <li style={{ display: 'inline' }} key={loc.value}>\n                  {loc.label},{' '}\n                </li>\n              );\n            })}\n          <Select\n            id=\"edit-cat-loc\"\n            name=\"locations\"\n            placeholder=\"Location\"\n            onChange={onSelect}\n            components={animatedComponents}\n            closeMenuOnSelect={false}\n            isMulti\n            // value={location}\n            options={locations.map((loc) => ({\n              value: loc.title,\n              label: loc.title\n            }))}\n          />\n          <TextInput\n            id=\"edit-cat-title\"\n            name=\"title\"\n            label=\"Title\"\n            value={title}\n            onChange={onChange}\n            s={12}\n          />\n          <Row>\n            <img src={thumbnail} alt=\"\" width=\"200\" />\n          </Row>\n          <FileUpload updateFileNameToParent={setSubmittedFileName} />\n        </form>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditCategory;\n"]},"metadata":{},"sourceType":"module"}