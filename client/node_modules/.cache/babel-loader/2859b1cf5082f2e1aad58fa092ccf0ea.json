{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{TextInput,Row,Container}from'react-materialize';import M from'materialize-css/dist/js/materialize.min.js';import{updateLocation}from'../../actions/location';import FileUpload from'../upload/FileUpload';var EditLocation=function EditLocation(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),location=_useState2[0],setLocation=_useState2[1];var title=location.title,thumbnail=location.thumbnail;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),submittedFileName=_useState4[0],setSubmittedFileName=_useState4[1];var current=useSelector(function(state){return state.location.current;});var dispatch=useDispatch();useEffect(function(){if(current){setLocation(current);}document.title='Edit Location';},[current]);var onChange=function onChange(e){setLocation(_objectSpread(_objectSpread({},location),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(updateLocation(_objectSpread(_objectSpread({},location),{},{thumbnail:submittedFileName})));M.toast({html:\"\".concat(title,\" updated\")});history.push('locations');case 3:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Container,{className:\"center mt form-container\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(TextInput,{id:\"edit-loc-title\",name:\"title\",label:\"Title\",value:title,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"img\",{src:thumbnail,alt:\"\",width:\"200\"})),/*#__PURE__*/React.createElement(FileUpload,{updateFileNameToParent:setSubmittedFileName}))));};export default EditLocation;","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/components/locations/EditLocation.js"],"names":["React","useState","useEffect","useDispatch","useSelector","TextInput","Row","Container","M","updateLocation","FileUpload","EditLocation","history","location","setLocation","title","thumbnail","submittedFileName","setSubmittedFileName","current","state","dispatch","document","onChange","e","target","name","value","onSubmit","toast","html","push"],"mappings":"0wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,SAAzB,KAA0C,mBAA1C,CACA,MAAOC,CAAAA,CAAP,KAAc,4CAAd,CACA,OAASC,cAAT,KAA+B,wBAA/B,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACJX,QAAQ,CAAC,EAAD,CADJ,wCAC7BY,QAD6B,eACnBC,WADmB,kBAE5BC,CAAAA,KAF4B,CAEPF,QAFO,CAE5BE,KAF4B,CAErBC,SAFqB,CAEPH,QAFO,CAErBG,SAFqB,gBAIcf,QAAQ,CAAC,EAAD,CAJtB,yCAI7BgB,iBAJ6B,eAIVC,oBAJU,eAMpC,GAAMC,CAAAA,OAAO,CAAGf,WAAW,CAAC,SAACgB,KAAD,QAAWA,CAAAA,KAAK,CAACP,QAAN,CAAeM,OAA1B,EAAD,CAA3B,CAEA,GAAME,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CAEAD,SAAS,CAAC,UAAM,CACd,GAAIiB,OAAJ,CAAa,CACXL,WAAW,CAACK,OAAD,CAAX,CACD,CACDG,QAAQ,CAACP,KAAT,CAAiB,eAAjB,CACD,CALQ,CAKN,CAACI,OAAD,CALM,CAAT,CAOA,GAAMI,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBV,WAAW,gCAAMD,QAAN,wBAAiBW,CAAC,CAACC,MAAF,CAASC,IAA1B,CAAiCF,CAAC,CAACC,MAAF,CAASE,KAA1C,GAAX,CACD,CAFD,CAIA,GAAMC,CAAAA,QAAQ,2FAAG,mIACfP,QAAQ,CACNZ,cAAc,gCACTI,QADS,MAEZG,SAAS,CAAEC,iBAFC,GADR,CAAR,CAMAT,CAAC,CAACqB,KAAF,CAAQ,CAAEC,IAAI,WAAKf,KAAL,YAAN,CAAR,EACAH,OAAO,CAACmB,IAAR,CAAa,WAAb,EARe,sDAAH,kBAARH,CAAAA,QAAQ,2CAAd,CAWA,mBACE,oBAAC,SAAD,EAAW,SAAS,CAAC,0BAArB,eACE,oBAAC,GAAD,mBACE,4BAAM,QAAQ,CAAEA,QAAhB,eACE,oBAAC,SAAD,EACE,EAAE,CAAC,gBADL,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAC,OAHR,CAIE,KAAK,CAAEb,KAJT,CAKE,QAAQ,CAAEQ,QALZ,CAME,CAAC,CAAE,EANL,EADF,cASE,oBAAC,GAAD,mBACE,2BAAK,GAAG,CAAEP,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,KAAK,CAAC,KAAlC,EADF,CATF,cAYE,oBAAC,UAAD,EAAY,sBAAsB,CAAEE,oBAApC,EAZF,CADF,CADF,CADF,CAoBD,CApDD,CAsDA,cAAeP,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TextInput, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { updateLocation } from '../../actions/location';\nimport FileUpload from '../upload/FileUpload';\n\nconst EditLocation = ({ history }) => {\n  const [location, setLocation] = useState('');\n  const { title, thumbnail } = location;\n\n  const [submittedFileName, setSubmittedFileName] = useState('');\n\n  const current = useSelector((state) => state.location.current);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (current) {\n      setLocation(current);\n    }\n    document.title = 'Edit Location';\n  }, [current]);\n\n  const onChange = (e) => {\n    setLocation({ ...location, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = async () => {\n    dispatch(\n      updateLocation({\n        ...location,\n        thumbnail: submittedFileName\n      })\n    );\n    M.toast({ html: `${title} updated` });\n    history.push('locations');\n  };\n\n  return (\n    <Container className=\"center mt form-container\">\n      <Row>\n        <form onSubmit={onSubmit}>\n          <TextInput\n            id=\"edit-loc-title\"\n            name=\"title\"\n            label=\"Title\"\n            value={title}\n            onChange={onChange}\n            s={12}\n          />\n          <Row>\n            <img src={thumbnail} alt=\"\" width=\"200\" />\n          </Row>\n          <FileUpload updateFileNameToParent={setSubmittedFileName} />\n        </form>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditLocation;\n"]},"metadata":{},"sourceType":"module"}