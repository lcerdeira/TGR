{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/lcer0001/GitHub/biodash/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch}from'react-redux';import{TextInput,Textarea,Select,Row,Container}from'react-materialize';import M from'materialize-css/dist/js/materialize.min.js';import{addPlace}from'../../actions/place';import FileUpload from'../upload/FileUpload';import useResources from'../../utils/useResources';var AddPlace=function AddPlace(_ref){var history=_ref.history;var _useState=useState({title:'',image:'',thumbnail:'',content:'',location:'',category:'',info:'',link:'',lat:'',lng:''}),_useState2=_slicedToArray(_useState,2),place=_useState2[0],setPlace=_useState2[1];var title=place.title,content=place.content,location=place.location,category=place.category,info=place.info,link=place.link,lat=place.lat,lng=place.lng;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),submittedFileName=_useState4[0],setSubmittedFileName=_useState4[1];var locations=useResources('locations');var categories=useResources('categories');var dispatch=useDispatch();useEffect(function(){document.title='Add Place';},[]);var onChange=function onChange(e){setPlace(_objectSpread(_objectSpread({},place),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!title){M.toast({html:'Please enter title'});}else if(!content){M.toast({html:'Please enter content'});}else if(!category){M.toast({html:'Please enter category'});}else if(!location){M.toast({html:'Please enter location'});}else{dispatch(addPlace(_objectSpread(_objectSpread({},place),{},{thumbnail:submittedFileName})));M.toast({html:\"\".concat(title,\" added\")});history.push('places');}case 1:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Container,{className:\"center mt form-container\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(TextInput,{id:\"add-place-title\",name:\"title\",label:\"Title\",value:title,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(Textarea,{id:\"add-place-content\",name:\"content\",label:\"Content\",value:content,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(Select,{id:\"add-place-loc\",name:\"location\",value:location,onChange:onChange,s:6},/*#__PURE__*/React.createElement(\"option\",{disabled:true,value:\"\"},\"Location\"),locations.map(function(loc){return/*#__PURE__*/React.createElement(\"option\",{key:loc._id,value:loc.title},loc.title);})),/*#__PURE__*/React.createElement(Select,{id:\"add-place-cat\",name:\"category\",value:category,onChange:onChange,s:6},/*#__PURE__*/React.createElement(\"option\",{disabled:true,value:\"\"},\"Category\"),categories.map(function(cat){return/*#__PURE__*/React.createElement(\"option\",{key:cat._id,value:cat.title},cat.title);})),/*#__PURE__*/React.createElement(TextInput,{id:\"add-place-info\",name:\"info\",label:\"Info\",value:info,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(TextInput,{id:\"add-place-link\",name:\"link\",label:\"Link\",value:link,onChange:onChange,s:12}),/*#__PURE__*/React.createElement(TextInput,{id:\"add-place-lat\",name:\"lat\",label:\"Lat\",value:lat,onChange:onChange,s:6}),/*#__PURE__*/React.createElement(TextInput,{id:\"add-place-lng\",name:\"lng\",label:\"Lng\",value:lng,onChange:onChange,s:6}),/*#__PURE__*/React.createElement(FileUpload,{updateFileNameToParent:setSubmittedFileName}))));};export default AddPlace;","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/components/places/AddPlace.js"],"names":["React","useState","useEffect","useDispatch","TextInput","Textarea","Select","Row","Container","M","addPlace","FileUpload","useResources","AddPlace","history","title","image","thumbnail","content","location","category","info","link","lat","lng","place","setPlace","submittedFileName","setSubmittedFileName","locations","categories","dispatch","document","onChange","e","target","name","value","onSubmit","toast","html","push","map","loc","_id","cat"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { TextInput, Textarea, Select, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { addPlace } from '../../actions/place';\nimport FileUpload from '../upload/FileUpload';\nimport useResources from '../../utils/useResources';\n\nconst AddPlace = ({ history }) => {\n  const [place, setPlace] = useState({\n    title: '',\n    image: '',\n    thumbnail: '',\n    content: '',\n    location: '',\n    category: '',\n    info: '',\n    link: '',\n    lat: '',\n    lng: ''\n  });\n  const { title, content, location, category, info, link, lat, lng } = place;\n\n  const [submittedFileName, setSubmittedFileName] = useState('');\n\n  const locations = useResources('locations');\n  const categories = useResources('categories');\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = 'Add Place';\n  }, []);\n\n  const onChange = (e) => {\n    setPlace({ ...place, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = async () => {\n    if (!title) {\n      M.toast({ html: 'Please enter title' });\n    } else if (!content) {\n      M.toast({ html: 'Please enter content' });\n    } else if (!category) {\n      M.toast({ html: 'Please enter category' });\n    } else if (!location) {\n      M.toast({ html: 'Please enter location' });\n    } else {\n      dispatch(\n        addPlace({\n          ...place,\n          thumbnail: submittedFileName\n        })\n      );\n      M.toast({ html: `${title} added` });\n      history.push('places');\n    }\n  };\n\n  return (\n    <Container className=\"center mt form-container\">\n      <Row>\n        <form onSubmit={onSubmit}>\n          <TextInput\n            id=\"add-place-title\"\n            name=\"title\"\n            label=\"Title\"\n            value={title}\n            onChange={onChange}\n            s={12}\n          />\n          {/* <TextInput\n            id=\"add-place-image\"\n            name=\"image\"\n            label=\"Image\"\n            value={image}\n            onChange={onChange}\n            s={12}\n          /> */}\n          <Textarea\n            id=\"add-place-content\"\n            name=\"content\"\n            label=\"Content\"\n            value={content}\n            onChange={onChange}\n            s={12}\n          />\n          <Select\n            id=\"add-place-loc\"\n            name=\"location\"\n            value={location}\n            onChange={onChange}\n            s={6}\n          >\n            <option disabled value=\"\">\n              Location\n            </option>\n            {locations.map((loc) => (\n              <option key={loc._id} value={loc.title}>\n                {loc.title}\n              </option>\n            ))}\n          </Select>\n          <Select\n            id=\"add-place-cat\"\n            name=\"category\"\n            value={category}\n            onChange={onChange}\n            s={6}\n          >\n            <option disabled value=\"\">\n              Category\n            </option>\n            {categories.map((cat) => (\n              <option key={cat._id} value={cat.title}>\n                {cat.title}\n              </option>\n            ))}\n          </Select>\n          <TextInput\n            id=\"add-place-info\"\n            name=\"info\"\n            label=\"Info\"\n            value={info}\n            onChange={onChange}\n            s={12}\n          />\n          <TextInput\n            id=\"add-place-link\"\n            name=\"link\"\n            label=\"Link\"\n            value={link}\n            onChange={onChange}\n            s={12}\n          />\n          <TextInput\n            id=\"add-place-lat\"\n            name=\"lat\"\n            label=\"Lat\"\n            value={lat}\n            onChange={onChange}\n            s={6}\n          />\n          <TextInput\n            id=\"add-place-lng\"\n            name=\"lng\"\n            label=\"Lng\"\n            value={lng}\n            onChange={onChange}\n            s={6}\n          />\n          <FileUpload updateFileNameToParent={setSubmittedFileName} />\n        </form>\n      </Row>\n    </Container>\n  );\n};\n\nexport default AddPlace;\n"]},"metadata":{},"sourceType":"module"}