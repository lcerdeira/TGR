{"ast":null,"code":"var _jsxFileName = \"/Users/lcer0001/GitHub/biodash/client/src/components/categories/AddCategory.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport makeAnimated from 'react-select/animated';\nimport Select from 'react-select';\nimport { TextInput, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { addCategory } from '../../actions/category';\nimport FileUpload from '../upload/FileUpload';\nimport useResources from '../../utils/useResources';\n\nconst AddCategory = ({\n  history\n}) => {\n  const [category, setCategory] = useState({\n    title: '',\n    thumbnail: '',\n    location: ''\n  });\n  const {\n    title,\n    location\n  } = category;\n  const [submittedFileName, setSubmittedFileName] = useState('');\n  const locations = useResources('locations');\n  const animatedComponents = makeAnimated();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    document.title = 'Add Category';\n  }, []);\n\n  const onChange = e => {\n    setCategory({ ...category,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSelect = (value, action) => {\n    setCategory({ ...category,\n      [action.name]: value\n    });\n  };\n\n  const onSubmit = async () => {\n    if (!title) {\n      M.toast({\n        html: 'Please enter title'\n      });\n    } else if (!location) {\n      M.toast({\n        html: 'Please enter location'\n      });\n    } else {\n      dispatch(addCategory({ ...category,\n        thumbnail: submittedFileName\n      }));\n      M.toast({\n        html: `${title} added`\n      });\n      history.push('categories');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"center mt form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    id: \"add-cat-loc\",\n    name: \"location\",\n    placeholder: \"Location *\",\n    value: location,\n    onChange: onSelect,\n    components: animatedComponents,\n    closeMenuOnSelect: false,\n    isMulti: true,\n    options: locations.map(loc => ({\n      value: loc.title,\n      label: loc.title\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    id: \"add-cat-title\",\n    name: \"title\",\n    placeholder: \"Title *\",\n    value: title,\n    onChange: onChange,\n    s: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FileUpload, {\n    updateFileNameToParent: setSubmittedFileName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default AddCategory;","map":{"version":3,"sources":["/Users/lcer0001/GitHub/biodash/client/src/components/categories/AddCategory.js"],"names":["React","useState","useEffect","useDispatch","makeAnimated","Select","TextInput","Row","Container","M","addCategory","FileUpload","useResources","AddCategory","history","category","setCategory","title","thumbnail","location","submittedFileName","setSubmittedFileName","locations","animatedComponents","dispatch","document","onChange","e","target","name","value","onSelect","action","onSubmit","toast","html","push","map","loc","label"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport makeAnimated from 'react-select/animated';\nimport Select from 'react-select';\nimport { TextInput, Row, Container } from 'react-materialize';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport { addCategory } from '../../actions/category';\nimport FileUpload from '../upload/FileUpload';\nimport useResources from '../../utils/useResources';\n\nconst AddCategory = ({ history }) => {\n  const [category, setCategory] = useState({\n    title: '',\n    thumbnail: '',\n    location: ''\n  });\n  const { title, location } = category;\n\n  const [submittedFileName, setSubmittedFileName] = useState('');\n\n  const locations = useResources('locations');\n\n  const animatedComponents = makeAnimated();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = 'Add Category';\n  }, []);\n\n  const onChange = (e) => {\n    setCategory({ ...category, [e.target.name]: e.target.value });\n  };\n\n  const onSelect = (value, action) => {\n    setCategory({ ...category, [action.name]: value });\n  };\n\n  const onSubmit = async () => {\n    if (!title) {\n      M.toast({ html: 'Please enter title' });\n    } else if (!location) {\n      M.toast({ html: 'Please enter location' });\n    } else {\n      dispatch(\n        addCategory({\n          ...category,\n          thumbnail: submittedFileName\n        })\n      );\n      M.toast({ html: `${title} added` });\n      history.push('categories');\n    }\n  };\n\n  return (\n    <Container className=\"center mt form-container\">\n      <Row>\n        <form onSubmit={onSubmit}>\n          <Select\n            id=\"add-cat-loc\"\n            name=\"location\"\n            placeholder=\"Location *\"\n            value={location}\n            onChange={onSelect}\n            components={animatedComponents}\n            closeMenuOnSelect={false}\n            isMulti\n            options={locations.map((loc) => ({\n              value: loc.title,\n              label: loc.title\n            }))}\n          />\n          <TextInput\n            id=\"add-cat-title\"\n            name=\"title\"\n            placeholder=\"Title *\"\n            value={title}\n            onChange={onChange}\n            s={12}\n          />\n          <FileUpload updateFileNameToParent={setSubmittedFileName} />\n        </form>\n      </Row>\n    </Container>\n  );\n};\n\nexport default AddCategory;\n"]},"metadata":{},"sourceType":"module"}