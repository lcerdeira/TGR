(this["webpackJsonptgr-client"]=this["webpackJsonptgr-client"]||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=a(14),i=a(15),u=a(4),s=a(6),m=a.n(s),p=a(10),d=a(13),E=a.n(d),b=function(e){e?E.a.defaults.headers.common["x-auth-token"]=e:delete E.a.defaults.headers.common["x-auth-token"]},f=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&b(localStorage.token),e.prev=1,e.next=4,E.a.get("/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.firstName,a=e.lastName,n=e.email,r=e.password;return function(){var e=Object(p.a)(m.a.mark((function e(c){var l,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{"Content-Type":"application/json"}},o=JSON.stringify({firstName:t,lastName:a,email:n,password:r}),e.prev=2,e.next=5,E.a.post("/api/users",o,l);case 5:i=e.sent,c({type:"REGISTER_SUCCESS",payload:i.data}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response.data.errors,c({type:"REGISTER_FAIL"});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},h=a(27),g=a(66),j=a(67),v=a(2),y={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},R=a(31),C={categories:null,current:null,loading:!1,filtered:null,error:null},T={places:null,current:null,loading:!1,filtered:null,error:null},x={locations:null,current:null,loading:!1,filtered:null,error:null},w=Object(h.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(v.a)(Object(v.a)(Object(v.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case"LOGOUT":return localStorage.removeItem("token"),Object(v.a)(Object(v.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null});default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_CATEGORIES":return Object(v.a)(Object(v.a)({},e),{},{categories:n,loading:!1});case"ADD_CATEGORY":return Object(v.a)(Object(v.a)({},e),{},{categories:[].concat(Object(R.a)(e.categories),[n]),loading:!1});case"UPDATE_CATEGORY":return Object(v.a)(Object(v.a)({},e),{},{categories:e.categories.map((function(e){return e._id===n._id?n:e})),loading:!1});case"DELETE_CATEGORY":return Object(v.a)(Object(v.a)({},e),{},{categories:e.categories.filter((function(e){return e._id!==n})),loading:!1});case"FILTER_CATEGORIES":return Object(v.a)(Object(v.a)({},e),{},{filtered:e.categories.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.title.match(a)}))});case"CLEAR_FILTER,":return Object(v.a)(Object(v.a)({},e),{},{filtered:null});case"CURRENT_CATEGORY":return Object(v.a)(Object(v.a)({},e),{},{current:n});case"CLEAR_CURRENT":return Object(v.a)(Object(v.a)({},e),{},{current:null});case"SET_LOADING":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"CATEGORIES_ERROR":return console.error(n),Object(v.a)(Object(v.a)({},e),{},{error:n});default:return e}},place:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PLACES":return Object(v.a)(Object(v.a)({},e),{},{places:n,loading:!1});case"ADD_PLACE":return Object(v.a)(Object(v.a)({},e),{},{places:[].concat(Object(R.a)(e.places),[n]),loading:!1});case"UPDATE_PLACE":return Object(v.a)(Object(v.a)({},e),{},{places:e.places.map((function(e){return e._id===n._id?n:e})),loading:!1});case"DELETE_PLACE":return Object(v.a)(Object(v.a)({},e),{},{places:e.places.filter((function(e){return e._id!==n})),loading:!1});case"FILTER_PLACES":return Object(v.a)(Object(v.a)({},e),{},{filtered:e.places.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.title.match(a)}))});case"CLEAR_FILTER,":return Object(v.a)(Object(v.a)({},e),{},{filtered:null});case"CURRENT_PLACE":return Object(v.a)(Object(v.a)({},e),{},{current:n});case"CLEAR_CURRENT":return Object(v.a)(Object(v.a)({},e),{},{current:null});case"SET_LOADING":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"PLACES_ERROR":return console.error(n),Object(v.a)(Object(v.a)({},e),{},{error:n});default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_LOCATIONS":return Object(v.a)(Object(v.a)({},e),{},{locations:n,loading:!1});case"ADD_LOCATION":return Object(v.a)(Object(v.a)({},e),{},{locations:[].concat(Object(R.a)(e.locations),[n]),loading:!1});case"UPDATE_LOCATION":return Object(v.a)(Object(v.a)({},e),{},{locations:e.locations.map((function(e){return e._id===n._id?n:e})),loading:!1});case"DELETE_LOCATION":return Object(v.a)(Object(v.a)({},e),{},{locations:e.locations.filter((function(e){return e._id!==n})),loading:!1});case"FILTER_LOCATIONS":return Object(v.a)(Object(v.a)({},e),{},{filtered:e.locations.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.title.match(a)}))});case"CLEAR_FILTER,":return Object(v.a)(Object(v.a)({},e),{},{filtered:null});case"CURRENT_LOCATION":return Object(v.a)(Object(v.a)({},e),{},{current:n});case"CLEAR_CURRENT":return Object(v.a)(Object(v.a)({},e),{},{current:null});case"SET_LOADING":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"LOCATIONS_ERROR":return console.error(n),Object(v.a)(Object(v.a)({},e),{},{error:n});default:return e}}}),N=[j.a],I=Object(h.createStore)(w,{},Object(g.composeWithDevTools)(h.applyMiddleware.apply(void 0,N))),_=a(17),k=a(12),S=a(1),A=a(8),L=a.n(A),P=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(k.a)(e,2),a=t[0],c=t[1],l=a.email,o=a.password,s=Object(u.c)((function(e){return e.auth.isAuthenticated})),d=Object(u.b)(),b=function(e){c(Object(v.a)(Object(v.a)({},a),{},Object(_.a)({},e.target.id,e.target.value)))};return s?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement(S.Container,{className:"center mt auth-container"},r.a.createElement(S.Row,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l?o?d(function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){var r,c,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,E.a.post("/api/auth",c,r);case 5:l=a.sent,n({type:"LOGIN_SUCCESS",payload:l.data}),n(f()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),a.t0.response.data.errors,n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()}(l,o)):L.a.toast({html:"Please enter password"}):L.a.toast({html:"Please enter email"})}},r.a.createElement(S.TextInput,{id:"email",label:"Email",email:!0,value:l,onChange:b,s:12}),r.a.createElement(S.TextInput,{id:"password",label:"Password",value:o,onChange:b,minLength:"6",password:!0,s:12}),r.a.createElement(S.Row,{s:12,m:12},r.a.createElement(S.Button,{className:"blue darken-2",type:"submit",value:"Login",variant:"contained"},"Login",r.a.createElement(S.Icon,{right:!0},"login"))))))},D=function(){var e=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",password2:""}),t=Object(k.a)(e,2),a=t[0],c=t[1],l=a.firstName,s=a.lastName,d=a.email,E=a.password,b=a.password2,f=Object(u.c)((function(e){return e.auth.isAuthenticated})),h=Object(u.b)(),g=function(e){return c(Object(v.a)(Object(v.a)({},a),{},Object(_.a)({},e.target.name,e.target.value)))},j=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l?s?d?E&&b?E!==b?L.a.toast({html:"Passwords do not match"}):h(O({firstName:l,lastName:s,email:d,password:E})):L.a.toast({html:"Please enter password"}):L.a.toast({html:"Please enter email"}):L.a.toast({html:"Please enter surname"}):L.a.toast({html:"Please enter name"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement(S.Container,{className:"center mt auth-container"},r.a.createElement(S.Row,null,r.a.createElement("form",{onSubmit:j},r.a.createElement(S.TextInput,{id:"register-name",label:"Name",name:"firstName",value:l,onChange:g,s:12,m:6}),r.a.createElement(S.TextInput,{id:"register-surname",label:"Surname",name:"lastName",value:s,onChange:g,s:12,m:6}),r.a.createElement(S.TextInput,{id:"register-email",email:!0,label:"Email",name:"email",value:d,onChange:g,s:12,m:12}),r.a.createElement(S.TextInput,{id:"register-password",password:!0,label:"Password",name:"password",value:E,onChange:g,s:12,m:6}),r.a.createElement(S.TextInput,{id:"register-password2",password:!0,label:"Confirm Password",name:"password2",value:b,onChange:g,s:12,m:6}),r.a.createElement(S.Row,{s:12,m:12},r.a.createElement(S.Button,{className:"blue darken-2",type:"submit",variant:"contained",value:"Register"},"Register",r.a.createElement(S.Icon,{right:!0},"add")),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(o.b,{to:"/login"},"Sign In"))))))},F=function(){return r.a.createElement(S.Preloader,{className:"loader",active:!0,color:"blue",flashing:!1,size:"big"})},G=function(){var e=Object(u.c)((function(e){return e.auth})),t=e.user;return!e.loading&&t?r.a.createElement(S.Row,{className:"center"},r.a.createElement("h1",null,"Welcome ",t.firstName),t.avatar&&r.a.createElement("img",{className:"circle",src:t.avatar,alt:""})):r.a.createElement(F,null)},U=function(){return r.a.createElement(S.Row,{className:"center"},r.a.createElement("h1",null,"Page Not Found"))},B=a(69),M=function(e){var t=e.component,a=Object(B.a)(e,["component"]),n=Object(u.c)((function(e){return e.auth})).isAuthenticated;return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/login"})}}))},Y=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.patch("/api/locations/".concat(e._id),e);case 4:return n=t.sent,t.next=7,n.data;case 7:r=t.sent,a({type:"UPDATE_LOCATION",payload:r}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"LOCATIONS_ERROR",payload:t.t0.response.statusText});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},J=function(e){var t=e.location,a=t.thumbnail,n=t.title,c=Object(u.b)();return r.a.createElement(S.Row,null,r.a.createElement(S.Col,null,r.a.createElement(S.Card,{className:"hoverable",header:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:a,alt:n,width:"200px",height:"150px"}),r.a.createElement(S.CardTitle,null,n))},r.a.createElement(S.Row,{className:"center"},r.a.createElement(o.b,{to:"editlocation"},r.a.createElement(S.Button,{className:"blue darken-2 mr",floating:!0,node:"button",icon:r.a.createElement(S.Icon,null,"edit"),onClick:function(){c(function(e){return{type:"CURRENT_LOCATION",payload:e}}(t))}})),r.a.createElement(S.Modal,{actions:[r.a.createElement(r.a.Fragment,null,r.a.createElement(S.Button,{className:"red",modal:"close",node:"button",onClick:function(){var e;c((e=t._id,function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.delete("/api/locations/".concat(e));case 4:a({type:"DELETE_LOCATION",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"LOCATIONS_ERROR",payload:t.t0.response.statusText});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),L.a.toast({html:"".concat(n," deleted")})},style:{marginRight:"1rem"}},"Delete",r.a.createElement(S.Icon,{right:!0},"delete")),r.a.createElement(S.Button,{modal:"close",node:"button",className:"blue darken-2"},"Close",r.a.createElement(S.Icon,{right:!0},"close")))],header:"Delete ".concat(n,"?"),id:"Modal-0",open:!1,trigger:r.a.createElement(S.Button,{className:"red",node:"button",floating:!0},r.a.createElement(S.Icon,{right:!0},"delete"))})))))},W=function(){var e=Object(u.c)((function(e){return e.location.filtered})),t=Object(n.useRef)(""),a=Object(u.b)();Object(n.useEffect)((function(){e||(t.current.value="")}));return r.a.createElement(S.Row,{className:"row-grid filter"},r.a.createElement(S.TextInput,{ref:t,placeholder:"Filter",onChange:function(e){""!==t.current.value?a(function(e){return{type:"FILTER_LOCATIONS",payload:e}}(e.target.value)):a({type:"CLEAR_FILTER,"})}}))},z=function(){return r.a.createElement(S.Button,{className:"blue darken-2",fab:!0,floating:!0,large:!0,node:"button",icon:r.a.createElement(S.Icon,null,"add")})},H=function(){var e=Object(u.c)((function(e){return e.location})),t=e.locations,a=e.loading,c=e.filtered,l=Object(u.b)();return Object(n.useEffect)((function(){l(function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,E.a.get("/api/locations");case 4:return a=e.sent,e.next=7,a.data;case 7:n=e.sent,t({type:"GET_LOCATIONS",payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"LOCATIONS_ERROR",payload:e.t0.response.statusText});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),document.title="Locations"}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),t&&!a?r.a.createElement(S.Row,null,r.a.createElement(S.Col,{className:"grid-style"},c?c.map((function(e){return r.a.createElement(J,{key:e._id,location:e})})):t.map((function(e){return r.a.createElement(J,{key:e._id,location:e})})))):r.a.createElement(F,null),r.a.createElement(o.b,{to:"addlocation"},r.a.createElement(z,null)))},q=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.post("/api/categories",e);case 4:return n=t.sent,t.next=7,n.data;case 7:r=t.sent,a({type:"ADD_CATEGORY",payload:r}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.category(t.t0),a({type:"CATEGORIES_ERROR",payload:t.t0.response.statusText});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},K=function(e){var t=e.category,a=t.thumbnail,n=t.title,c=Object(u.b)();return r.a.createElement(S.Row,null,r.a.createElement(S.Col,null,r.a.createElement(S.Card,{className:"hoverable",header:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:a,alt:n,width:"200",height:"150"}),r.a.createElement(S.CardTitle,null,n))},r.a.createElement(S.Row,{className:"center"},r.a.createElement(o.b,{to:"editcategory"},r.a.createElement(S.Button,{className:"blue darken-2 mr",floating:!0,node:"button",icon:r.a.createElement(S.Icon,null,"edit"),onClick:function(){c(function(e){return{type:"CURRENT_CATEGORY",payload:e}}(t))}})),r.a.createElement(S.Modal,{actions:[r.a.createElement(r.a.Fragment,null,r.a.createElement(S.Button,{className:"red",modal:"close",node:"button",onClick:function(){var e;c((e=t._id,function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.delete("/api/categories/".concat(e));case 4:a({type:"DELETE_CATEGORY",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"CATEGORIES_ERROR",payload:t.t0.response.statusText});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),L.a.toast({html:"".concat(n," deleted")})},style:{marginRight:"1rem"}},"Delete",r.a.createElement(S.Icon,{right:!0},"delete")),r.a.createElement(S.Button,{modal:"close",node:"button",className:"blue darken-2"},"Close",r.a.createElement(S.Icon,{right:!0},"close")))],header:"Delete ".concat(n,"?"),id:"Modal-0",open:!1,trigger:r.a.createElement(S.Button,{className:"red",node:"button",floating:!0},r.a.createElement(S.Icon,{right:!0},"delete"))})))))},Q=function(){var e=Object(u.c)((function(e){return e.category.filtered})),t=Object(n.useRef)(""),a=Object(u.b)();Object(n.useEffect)((function(){e||(t.current.value="")}));return r.a.createElement(S.Row,{className:"row-grid filter"},r.a.createElement(S.TextInput,{ref:t,placeholder:"Filter",onChange:function(e){""!==t.current.value?a(function(e){return{type:"FILTER_CATEGORIES",payload:e}}(e.target.value)):a({type:"CLEAR_FILTER,"})}}))},V=function(){var e=Object(u.c)((function(e){return e.category})),t=e.categories,a=e.loading,c=e.filtered,l=Object(u.b)();return Object(n.useEffect)((function(){l(function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,E.a.get("/api/categories");case 4:return a=e.sent,e.next=7,a.data;case 7:n=e.sent,t({type:"GET_CATEGORIES",payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"CATEGORIES_ERROR",payload:e.t0.response.statusText});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),document.title="Categories"}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null),t&&!a?r.a.createElement(S.Row,null,r.a.createElement(S.Col,{className:"grid-style"},c?c.map((function(e){return r.a.createElement(K,{key:e._id,category:e})})):t.map((function(t){return r.a.createElement(K,{key:e._id,category:t})})))):r.a.createElement(F,null),r.a.createElement(o.b,{to:"addcategory"},r.a.createElement(z,null)))},X=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.post("/api/places",e);case 4:return n=t.sent,t.next=7,n.data;case 7:r=t.sent,a({type:"ADD_PLACE",payload:r}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.place(t.t0),a({type:"PLACES_ERROR",payload:t.t0.response.statusText});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){var t=e.place,a=t.thumbnail,n=t.title,c=Object(u.b)();return r.a.createElement(S.Row,null,r.a.createElement(S.Col,null,r.a.createElement(S.Card,{className:"hoverable",header:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:a,alt:n,width:"200",height:"150"}),r.a.createElement(S.CardTitle,null,n))},r.a.createElement(S.Row,{className:"center"},r.a.createElement(o.b,{to:"editplace"},r.a.createElement(S.Button,{className:"blue darken-2 mr",floating:!0,node:"button",icon:r.a.createElement(S.Icon,null,"edit"),onClick:function(){c(function(e){return{type:"CURRENT_PLACE",payload:e}}(t))}})),r.a.createElement(S.Modal,{actions:[r.a.createElement(r.a.Fragment,null,r.a.createElement(S.Button,{className:"red",modal:"close",node:"button",onClick:function(){var e;c((e=t._id,function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.delete("/api/places/".concat(e));case 4:a({type:"DELETE_PLACE",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"PLACES_ERROR",payload:t.t0.response.statusText});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),L.a.toast({html:"".concat(n," deleted")})},style:{marginRight:"1rem"}},"Delete",r.a.createElement(S.Icon,{right:!0},"delete")),r.a.createElement(S.Button,{modal:"close",node:"button",className:"blue darken-2"},"Close",r.a.createElement(S.Icon,{right:!0},"close")))],header:"Delete ".concat(n,"?"),id:"Modal-0",open:!1,trigger:r.a.createElement(S.Button,{className:"red",node:"button",floating:!0},r.a.createElement(S.Icon,{right:!0},"delete"))})))))},$=function(){var e=Object(u.c)((function(e){return e.place.filtered})),t=Object(n.useRef)(""),a=Object(u.b)();Object(n.useEffect)((function(){e||(t.current.value="")}));return r.a.createElement(S.Row,{className:"row-grid filter"},r.a.createElement(S.TextInput,{ref:t,placeholder:"Filter",onChange:function(e){""!==t.current.value?a(function(e){return{type:"FILTER_PLACES",payload:e}}(e.target.value)):a({type:"CLEAR_FILTER,"})}}))},ee=function(){var e=Object(u.c)((function(e){return e.place})),t=e.places,a=e.loading,c=e.filtered,l=Object(u.b)();return Object(n.useEffect)((function(){l(function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,E.a.get("/api/places");case 4:return a=e.sent,e.next=7,a.data;case 7:n=e.sent,t({type:"GET_PLACES",payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"PLACES_ERROR",payload:e.t0.response.statusText});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),document.title="Places"}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement($,null),t&&!a?r.a.createElement(S.Row,null,r.a.createElement(S.Col,{className:"grid-style"},c?c.map((function(e){return r.a.createElement(Z,{key:e._id,place:e})})):t.map((function(e){return r.a.createElement(Z,{key:e._id,place:e})})))):r.a.createElement(F,null),r.a.createElement(o.b,{to:"addplace"},r.a.createElement(z,null)))},te=function(e){var t=e.msg;return r.a.createElement(S.Row,null,t)},ae=function(e){var t=e.updateFileNameToParent,a=Object(n.useState)(""),c=Object(k.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)("Thumbnail *"),u=Object(k.a)(i,2),s=u[0],d=u[1],b=Object(n.useState)(""),f=Object(k.a)(b,2),O=f[0],h=f[1],g=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("file",l),e.prev=3,e.next=6,E.a.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),500===e.t0.response.status?h("There was a problem with the server"):h(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}();return t(s),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:g},r.a.createElement(S.TextInput,{id:"add-cat-thumb",name:"thumbnail",type:"file",label:s,onChange:function(e){o(e.target.files[0]),d(e.target.files[0].name)},s:12}),O&&r.a.createElement(te,{msg:O}),r.a.createElement(S.Button,{variant:"contained",className:"blue darken-2 mb",type:"submit"},"Submit",r.a.createElement(S.Icon,{right:!0},"send"))))},ne=function(e){var t=e.history,a=Object(n.useState)({title:"",thumbnail:""}),c=Object(k.a)(a,2),l=c[0],o=c[1],i=l.title,s=Object(n.useState)(""),d=Object(k.a)(s,2),b=d[0],f=d[1],O=Object(u.b)();Object(n.useEffect)((function(){document.title="Add Location"}),[]);return r.a.createElement(S.Container,{className:"center mt form-container"},r.a.createElement(S.Row,null,r.a.createElement("form",{onSubmit:function(){i?(O(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.post("/api/locations",e);case 4:return n=t.sent,t.next=7,n.data;case 7:r=t.sent,a({type:"ADD_LOCATION",payload:r}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.location(t.t0),a({type:"LOCATIONS_ERROR",payload:t.t0.response.statusText});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(Object(v.a)(Object(v.a)({},l),{},{thumbnail:b}))),L.a.toast({html:"".concat(i," added")}),t.push("locations")):L.a.toast({html:"Please enter title"})}},r.a.createElement(S.TextInput,{id:"add-loc-title",name:"title",label:"Title *",value:i,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))},error:"Enter title",s:12}),r.a.createElement(ae,{updateFileNameToParent:f}))))},re=a(40),ce=a(41),le=function(e){var t=Object(n.useState)([]),a=Object(k.a)(t,2),r=a[0],c=a[1],l=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.get)("/api/".concat(t));case 2:a=e.sent,c(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l(e)}),[e]),r},oe=function(e){var t=e.history,a=Object(n.useState)({title:"",thumbnail:"",location:""}),c=Object(k.a)(a,2),l=c[0],o=c[1],i=l.title,s=l.location,d=Object(n.useState)(""),E=Object(k.a)(d,2),b=E[0],f=E[1],O=le("locations"),h=Object(re.a)(),g=Object(u.b)();Object(n.useEffect)((function(){document.title="Add Category"}),[]);var j=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i?s?(g(q(Object(v.a)(Object(v.a)({},l),{},{thumbnail:b}))),L.a.toast({html:"".concat(i," added")}),t.push("categories")):L.a.toast({html:"Please enter location"}):L.a.toast({html:"Please enter title"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(S.Container,{className:"center mt form-container"},r.a.createElement(S.Row,null,r.a.createElement("form",{onSubmit:j},r.a.createElement(ce.a,{id:"add-cat-loc",name:"location",placeholder:"Location *",value:s,onChange:function(e,t){o(Object(v.a)(Object(v.a)({},l),{},Object(_.a)({},t.name,e)))},components:h,closeMenuOnSelect:!1,isMulti:!0,options:O.map((function(e){return{value:e.title,label:e.title}}))}),r.a.createElement(S.TextInput,{id:"add-cat-title",name:"title",placeholder:"Title *",value:i,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))},s:12}),r.a.createElement(ae,{updateFileNameToParent:f}))))},ie=function(e){var t=e.history,a=Object(n.useState)({title:"",image:"",thumbnail:"",content:"",location:"",category:"",info:"",link:"",lat:"",lng:""}),c=Object(k.a)(a,2),l=c[0],o=c[1],i=l.title,s=l.content,d=l.location,E=l.category,b=l.info,f=l.link,O=l.lat,h=l.lng,g=Object(n.useState)(""),j=Object(k.a)(g,2),y=j[0],R=j[1],C=le("locations"),T=le("categories"),x=Object(u.b)();Object(n.useEffect)((function(){document.title="Add Place"}),[]);var w=function(e){o(Object(v.a)(Object(v.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i?s?E?d?(x(X(Object(v.a)(Object(v.a)({},l),{},{thumbnail:y}))),L.a.toast({html:"".concat(i," added")}),t.push("places")):L.a.toast({html:"Please enter location"}):L.a.toast({html:"Please enter category"}):L.a.toast({html:"Please enter content"}):L.a.toast({html:"Please enter title"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(S.Container,{className:"center mt form-container"},r.a.createElement(S.Row,null,r.a.createElement("form",{onSubmit:N},r.a.createElement(S.TextInput,{id:"add-place-title",name:"title",label:"Title",value:i,onChange:w,s:12}),r.a.createElement(S.Textarea,{id:"add-place-content",name:"content",label:"Content",value:s,onChange:w,s:12}),r.a.createElement(S.Select,{id:"add-place-loc",name:"location",value:d,onChange:w,s:6},r.a.createElement("option",{disabled:!0,value:""},"Location"),C.map((function(e){return r.a.createElement("option",{key:e._id,value:e.title},e.title)}))),r.a.createElement(S.Select,{id:"add-place-cat",name:"category",value:E,onChange:w,s:6},r.a.createElement("option",{disabled:!0,value:""},"Category"),T.map((function(e){return r.a.createElement("option",{key:e._id,value:e.title},e.title)}))),r.a.createElement(S.TextInput,{id:"add-place-info",name:"info",label:"Info",value:b,onChange:w,s:12}),r.a.createElement(S.TextInput,{id:"add-place-link",name:"link",label:"Link",value:f,onChange:w,s:12}),r.a.createElement(S.TextInput,{id:"add-place-lat",name:"lat",label:"Lat",value:O,onChange:w,s:6}),r.a.createElement(S.TextInput,{id:"add-place-lng",name:"lng",label:"Lng",value:h,onChange:w,s:6}),r.a.createElement(ae,{updateFileNameToParent:R}))))},ue=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(k.a)(a,2),l=c[0],o=c[1],i=l.title,s=l.thumbnail,d=Object(n.useState)(""),E=Object(k.a)(d,2),b=E[0],f=E[1],O=Object(u.c)((function(e){return e.location.current})),h=Object(u.b)();Object(n.useEffect)((function(){O&&o(O),document.title="Edit Location"}),[O]);var g=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Y(Object(v.a)(Object(v.a)({},l),{},{thumbnail:b}))),L.a.toast({html:"".concat(i," updated")}),t.push("locations");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(S.Container,{className:"center mt form-container"},r.a.createElement(S.Row,null,r.a.createElement("form",{onSubmit:g},r.a.createElement(S.TextInput,{id:"edit-loc-title",name:"title",label:"Title",value:i,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))},s:12}),r.a.createElement(S.Row,null,r.a.createElement("img",{src:s,alt:"",width:"200"})),r.a.createElement(ae,{updateFileNameToParent:f}))))},se=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(k.a)(a,2),l=c[0],o=c[1],i=l.title,s=l.thumbnail,d=l.location,b=Object(n.useState)(""),f=Object(k.a)(b,2),O=f[0],h=f[1],g=le("locations"),j=Object(re.a)(),y=Object(u.c)((function(e){return e.category.current})),R=Object(u.b)();Object(n.useEffect)((function(){y&&o(y),document.title="Edit Category"}),[y]);return r.a.createElement(S.Container,{className:"center mt form-container"},r.a.createElement(S.Row,null,r.a.createElement("form",{onSubmit:function(){R(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.patch("/api/categories/".concat(e._id),e);case 4:return n=t.sent,t.next=7,n.data;case 7:r=t.sent,a({type:"UPDATE_CATEGORY",payload:r}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"CATEGORIES_ERROR",payload:t.t0.response.statusText});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(Object(v.a)(Object(v.a)({},l),{},{thumbnail:O}))),L.a.toast({html:"".concat(i," updated")}),t.push("categories")}},d&&d.map((function(e){return r.a.createElement("li",{style:{display:"inline"},key:e.value},e.label,","," ")})),r.a.createElement(ce.a,{id:"edit-cat-loc",name:"locations",placeholder:"Location",onChange:function(e,t){o(Object(v.a)(Object(v.a)({},l),{},Object(_.a)({},t.name,e)))},components:j,closeMenuOnSelect:!1,isMulti:!0,options:g.map((function(e){return{value:e.title,label:e.title}}))}),r.a.createElement(S.TextInput,{id:"edit-cat-title",name:"title",label:"Title",value:i,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))},s:12}),r.a.createElement(S.Row,null,r.a.createElement("img",{src:s,alt:"",width:"200"})),r.a.createElement(ae,{updateFileNameToParent:h}))))},me=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(k.a)(a,2),l=c[0],o=c[1],i=l.title,s=l.thumbnail,d=l.content,b=l.location,f=l.category,O=l.info,h=l.link,g=l.lat,j=l.lng,y=Object(n.useState)(""),R=Object(k.a)(y,2),C=R[0],T=R[1],x=Object(u.c)((function(e){return e.place.current})),w=le("locations"),N=le("categories"),I=Object(u.b)();Object(n.useEffect)((function(){x&&o(x),document.title="Edit Place"}),[x]);var A=function(e){o(Object(v.a)(Object(v.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))};return r.a.createElement(S.Container,{className:"center mt form-container"},r.a.createElement(S.Row,null,r.a.createElement("form",{onSubmit:function(){I(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,E.a.patch("/api/places/".concat(e._id),e);case 4:return n=t.sent,t.next=7,n.data;case 7:r=t.sent,a({type:"UPDATE_PLACE",payload:r}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"PLACES_ERROR",payload:t.t0.response.statusText});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(Object(v.a)(Object(v.a)({},l),{},{thumbnail:C}))),L.a.toast({html:"".concat(i," updated")}),t.push("places")}},r.a.createElement(S.TextInput,{id:"edit-place-title",name:"title",label:"Title",value:i,onChange:A,s:12}),r.a.createElement(S.Textarea,{id:"edit-place-content",name:"content",label:"Content",value:d,onChange:A,s:12}),r.a.createElement(S.Select,{id:"edit-place-loc",name:"location",label:"Location",value:b,onChange:A,s:6},w.map((function(e){return r.a.createElement("option",{key:e._id,value:e.title},e.title)}))),r.a.createElement(S.Select,{id:"edit-place-cat",name:"category",label:"Category",value:f,onChange:A,s:6},N.map((function(e){return r.a.createElement("option",{key:e._id,value:e.title},e.title)}))),r.a.createElement(S.TextInput,{id:"edit-place-info",name:"info",label:"Info",value:O,onChange:A,s:12}),r.a.createElement(S.TextInput,{id:"edit-place-link",name:"link",label:"Link",value:h,onChange:A,s:12}),r.a.createElement(S.TextInput,{id:"edit-place-lat",name:"lat",label:"Lat",value:g,onChange:A,s:6}),r.a.createElement(S.TextInput,{id:"edit-place-lng",name:"lng",label:"Lng",value:j,onChange:A,s:6}),r.a.createElement(S.Row,null,r.a.createElement("img",{src:s,alt:"",width:"200"})),r.a.createElement(ae,{updateFileNameToParent:T}))))},pe=function(){return r.a.createElement("section",{className:"container"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/login",component:P}),r.a.createElement(i.b,{exact:!0,path:"/register",component:D}),r.a.createElement(M,{exact:!0,path:"/dashboard",component:G}),r.a.createElement(M,{exact:!0,path:"/locations",component:H}),r.a.createElement(M,{exact:!0,path:"/categories",component:V}),r.a.createElement(M,{exact:!0,path:"/places",component:ee}),r.a.createElement(M,{exact:!0,path:"/addlocation",component:ne}),r.a.createElement(M,{exact:!0,path:"/addcategory",component:oe}),r.a.createElement(M,{exact:!0,path:"/addplace",component:ie}),r.a.createElement(M,{exact:!0,path:"/editlocation",component:ue}),r.a.createElement(M,{exact:!0,path:"/editcategory",component:se}),r.a.createElement(M,{exact:!0,path:"/editplace",component:me}),r.a.createElement(i.b,{component:U})))},de=function(){var e=Object(u.c)((function(e){return e.auth})),t=e.isAuthenticated,a=e.loading,n=Object(u.b)(),c=[r.a.createElement(o.c,{key:1,to:"/login",href:"/login",className:"sidenav-close"},"Login")],l=[r.a.createElement(o.c,{key:1,to:"/locations",href:"/locations",className:"sidenav-close"},"Locations"),r.a.createElement(o.c,{key:2,to:"/categories",href:"/categories",className:"sidenav-close"},"Categories"),r.a.createElement(o.c,{key:3,to:"/places",href:"/places",className:"sidenav-close"},"Places"),r.a.createElement(S.NavItem,{key:4,onClick:function(){n((function(e){e({type:"LOGOUT"})}))}},r.a.createElement(S.Icon,null,"logout"))];return r.a.createElement(S.Navbar,{fixed:!0,alignLinks:"right",centerChildren:!0,id:"mobile-nav",className:"indigo",menuIcon:r.a.createElement(S.Icon,null,"menu"),brand:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"/logo.png",alt:"logo",style:{marginRight:"10px",marginTop:"6px"}}),r.a.createElement("a",{className:"brand-logo",href:"/"},"TGR"))},!a&&t?l:c)};a(139);localStorage.token&&b(localStorage.token);var Ee=function(){return Object(n.useEffect)((function(){I.dispatch(f())}),[]),r.a.createElement(u.a,{store:I},r.a.createElement(o.a,null,r.a.createElement(de,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:P}),r.a.createElement(i.b,{component:pe}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root"))},70:function(e,t,a){e.exports=a(140)}},[[70,1,2]]]);
//# sourceMappingURL=main.243614c3.chunk.js.map